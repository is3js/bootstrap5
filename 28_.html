<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap</title>
    <link rel="stylesheet" href="css/bootstrap.css">
    <style>
        /*row & col test*/
        .row {
            border: dashed 1px red;
            margin: 10px 0;
        }

        .ca {
            border: solid 1px blue;
            background: #EFEFEF;
        }

        /*  div.wh(block 정사각형)을 flex or row 속 col아닌데 수평배치 하는 방법*/
        /*  border, 색, m/p 등 알아볼 때 사용함*/
        .wh {
            width: 100px;
            height: 100px;
            background: #EFEFEF;
            float: left;
            margin: 10px;
        }
    </style>
</head>
<body>

<!--row/col test -->
동작 관련 custom
<div class="container">
    <p>1. 마우스진입(mouseenter)시 pause+pointer, 뗄시(mouseleave)시 cycle+default </p>
    <p> script에 (1)boostrap carousel 빈 변수 선언 + (2) carousel element 찾기 </p>
    <p> (3) document.addEventListener('DOMContentLoaded', )에 carousel element로 carousel 객체 만들기 </p>
    <p> (4) mainCarouselEl에 'mouseenter', 'mouseleave' addEventListener를 달고</p>
    <p> carousel.pause(); carousel.cycle(); + mainCarouselEl.style.cursor = 'pointer' mainCarouselEl.style.cursor =
        'default';</p>
    <div class="carousel slide" id="mainCarousel" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="0" class="active" aria-current="true"
                    aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#mainCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="images/slider1.jpg" alt="" class=" w-100">
                <div class="carousel-caption d-none d-md-block">
                    <h5> Slider 1</h5>
                    <p> 1번 배너입니다.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="images/slider2.jpg" alt="" class=" w-100">
                <div class="carousel-caption d-none d-md-block">
                    <h5> Slider 2</h5>
                    <p> 2번 배너입니다.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="images/slider3.jpg" alt="" class=" w-100">
                <div class="carousel-caption d-none d-md-block">
                    <h5> Slider 3</h5>
                    <p> 3번 배너입니다.</p>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button"
                data-bs-target="#mainCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button"
                data-bs-target="#mainCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>


    <br>
    <p>2. 외부 element와 상호작용하기</p>
    <p>(1) carousel 객체변수 선언 + carousel element 찾기 + DOMContentLoaded시 객체 초기화는 동일</p>
    <p>(2) 외부 element로서 id를 준 button 선언</p>
    <p>(3) 외부버튼 element 찾기 -> 'click' 이벤트리스너 달아서, carousel객체 .pause()</p>
    <div class="carousel slide" id="mainCarousel2" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#mainCarousel2" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#mainCarousel2" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#mainCarousel2" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="images/slider1.jpg" alt="" class=" w-100">
                <div class="carousel-caption d-none d-md-block">
                    <h5> Slider 1</h5>
                    <p> 1번 배너입니다.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="images/slider2.jpg" alt="" class=" w-100">
                <div class="carousel-caption d-none d-md-block">
                    <h5> Slider 2</h5>
                    <p> 2번 배너입니다.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="images/slider3.jpg" alt="" class=" w-100">
                <div class="carousel-caption d-none d-md-block">
                    <h5> Slider 3</h5>
                    <p> 3번 배너입니다.</p>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button"
                data-bs-target="#mainCarousel2" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button"
                data-bs-target="#mainCarousel2" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <div id="carouselStopBtn" class="text-center">
        <button class="btn btn-sm btn-success">중지</button>
    </div>

</div>

css 관련 custom
<style>
    #carouselHero .carousel-item img {
        object-fit: cover;
        object-position: center;

        height: 400px;
        overflow: hidden;
    }

    #carouselHero .carousel-item:before {
        content: "";
        background: linear-gradient(0deg, rgba(25, 25, 25, 1) 0%, rgba(0, 0, 0, 0.38279061624649857) 1%, rgba(255, 255, 255, 0) 20%);
        /*background: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.15));*/
        /*background: linear-gradient(to top, rgba(0, 99, 221, 0.5), transparent, rgba(3, 51, 110, 0.5));*/
        position: absolute;
        display: block;
        top: 0;
        width: 100%;
        height: 100%;
    }
</style>
<div class="container-fluid">
    <p>1. carousel에 높이 정하기 by img태그 + caption 뒤 <-> img앞에 gradient 넣기</p>
    <p> - 기본적으로 container-fluid를 써서 꽉꽉 채울 것이다.</p>
    <p> (1) 각 .carousel-item의 img태그마다 적용하기 위해, 현재 #carousel부모와 and조건으로 css를 작성한다 </p>
    <p> - 서로다른크기의 이미지를 통일시키기 위해 object-fit: cover; + object-position:center;를 선언</p>
    <p> (2) caption 뒤 <-> img태그(.carousel-item) 사이에 gradient 넣기 </p>
    <p> - #carouselHero .carousel-item:before {} 로서, 해당item공간에 :before를 통해 img태그 앞에 배치한다</p>
    <p> - content: "";는 기본이며, background로 linear-gradient()를 지정해야한다</p>
    <p> 반투명 검은색을 씌우고 싶다면, linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.15));</p>
    <p> 커스텀으로 만들고 싶다면, https://cssgradient.io/ 에 접속해서 만든다.</p>
    <p> - 그 후, position: absolute으로 떠있게 만들어야하고, 한줄 다차지하도록 display:block을 준 뒤, w/h는 100%로 준다.</p>
    <p>(3) indicators의 마진을 m-1로 줄이고, 각 carousel-caption의 패딩을 p-0으로 만들어서 최대한 아래로 낮췄다. </p>
    <div class="carousel slide" id="carouselHero" data-bs-ride="carousel">
        <div class="carousel-indicators m-1">
            <button type="button" data-bs-target="#carouselHero" data-bs-slide-to="0" class="active" aria-current="true"
                    aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselHero" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselHero" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="images/slider1.jpg" alt="" class=" w-100">
                <div class="carousel-caption p-0  d-md-block">
                    <h5> Slider 1</h5>
                </div>
            </div>
            <div class="carousel-item">
                <img src="images/slider2.jpg" alt="" class=" w-100">
                <div class="carousel-caption p-0  d-md-block">
                    <h5> Slider 2</h5>
                </div>
            </div>
            <div class="carousel-item">
                <img src="images/slider3.jpg" alt="" class=" w-100">
                <div class="carousel-caption p-0  d-md-block">
                    <h5> Slider 3</h5>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button"
                data-bs-target="#carouselHero" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button"
                data-bs-target="#carouselHero" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <br><br>
    <style>
        #carouselSidebar {
            max-width: 800px; /*임시*/
            display: inline-block;
        }

        #carouselSidebar .carousel-item img {
            object-fit: cover;
            object-position: center;
            overflow: hidden;
            height: 400px;
        }

        #carouselSidebar .carousel-control-prev,
        #carouselSidebar .carousel-control-next {
            align-items: start;
            top: 190px;
        }
        #carouselSidebar .carousel-indicators {
            align-items: start;
            top: 370px;
            bottom: auto;
        }
    </style>
    <div class="container-fluid">
        <p>2. sidebar에 넣는 a태그를 품는 caption이 내려오는 carouselSidebar</p>
        <p> - 예시 사이트: https://raybo.org/</p>
        <p> - 기본적으로 container-fluid를 써서 꽉꽉 채울 것이다.</p>
        <p> (1) carousel에 .slide .carousel-fade 를 추가하여 애니메이션을 주고 + carousel-indicators를 absol처리를 위해 .position-relative를
            준다. </p>
        <p> (2) #carouselSidebar{}로 css를 정의하며 col-x 안쪽이 아니므로, 임시 max-width를 800px으로 준다., </p>
        <p> (3) #carouselSidebar .carousel-item img {}에 본격적으로 css를 준다.</p>
        <p> - 사이즈가 다른 img가 들어오는 경우, object-fit:cover; object-position:center; overflow:hidden;을 준다.</p>
        <p> - 이 때, img태그의 height도 같이 정한다.(필수 for prev, next버튼 위치조정)</p>
        <p> (4) caption을 img위에 올리는 carousel-caption을 삭제하고, 내용은 그대로 둔다.</p>
        <p> - 내용에는 h5태그 -> a.h5.mt-2의 태그 + p태그로 준다!</p>
        <p> 여기까지 하면, .carousel-item이 [img + 밑으로 내려온 일반 caption div]가 된다.</p>
        <p> - .carousel-item이 아래로 내려온만큼 <strong> prev, next버튼 + indicators도 맞춰서 내려와버린다.</strong></p>
        <p> (5) 먼저, 양쪽 버튼을 #carouselSidebar .carousel-control-prev {}으로 찾아서 css를 결정한다</p>
        <p> - .carousel-control-prev는 flex이며, default로 align-items:center + position: absolute로 되어있다.</p>
        <p> - .carousel-control-prev의 수직정렬을 align-items:start로 바꾼 뒤, top으로 위에서부터 px로 height대비 간격을 준다.</p>
        <p> (5) 먼저, 양쪽 버튼을 #carouselSidebar .carousel-indicators {}으로 찾아서 수직정렬 start + top:px을 준다</p>
        <p> - 이 때, top: %로 주면 안됨. 내용이 길어지면 그만큼 내려가기 때문에. px로 고정시켜야한다.</p>
        <p> (6) 마지막으로 a태그의 링크를 부모전체에 걸어주는 .stretched-link를 a태그에 걸어준다.</p>
        <p> - 추가로 text-coration-none + text-색을 같이 걸어준다.</p>
        <p> (7) 이 때, 덮고있는 z-2로 .carousel-item들을 덮고 있는 indicators이 caption부분을 덮고 있으므로 bottom:auto;를 추가해서 content만큼만 차지하도록 해준다.</p>


        <div class="carousel slide  carousel-fade" id="carouselSidebar" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselSidebar" data-bs-slide-to="0" class="active"
                        aria-current="true"
                        aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselSidebar" data-bs-slide-to="1"
                        aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselSidebar" data-bs-slide-to="2"
                        aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner ">
                <div class="carousel-item active">
                    <img src="images/slider1.jpg" alt="" class="w-100">
                    <div class=" ">
                        <a href="https://www.naver.com" class="h5 mt-2 text-decoration-none stretched-link  text-secondary "> Slide 1111111111111111111111111111111</a>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="images/slider2.jpg" alt="" class="w-100">
                    <div class="d-block">
                        <a href="#" class="h5 mt-2 stretched-link text-decoration-none text-secondary"> Slide 22222222222222222222</a>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="images/slider3.jpg" alt="" class="w-100">
                    <div class=" ">
                        <a href="#" class="h5 mt-2 stretched-link text-decoration-none text-secondary"> Slide 3</a>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                        <p>내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.내용입니다.</p>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button"
                    data-bs-target="#carouselSidebar" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button"
                    data-bs-target="#carouselSidebar" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>

    </div>

    <script src="js/bootstrap.js"></script>

    <script>
        // 1. 여러번 사용될 bootstrap Carousel 객체 미리 선언
        var carousel;
        // 2. Carousel Element 가져옴
        var mainCarouselEl = document.getElementById('mainCarousel');

        // 4. Carousel Element 마우스 진입 시, carousel 객체 일시 정지, 마우스 벗어날 시 다시 작동
        //    + hover시 pointer 변환/ 뗄시 default 복귀
        mainCarouselEl.addEventListener('mouseenter', function () {
            carousel.pause();
            mainCarouselEl.style.cursor = 'pointer';
        });
        mainCarouselEl.addEventListener('mouseleave', function () {
            carousel.cycle();
            mainCarouselEl.style.cursor = 'default';
        });


        // 3. Load시 Carousel Element로 -> carousel 객체 초기화
        document.addEventListener('DOMContentLoaded', function () {
            carousel = new bootstrap.Carousel(mainCarouselEl);
        });
    </script>

    <script>
        // 1. 여러번 사용될 bootstrap Carousel 객체 미리 선언
        var carousel2;
        // 2. Carousel Element 가져옴
        var mainCarouselEl2 = document.getElementById('2');
        // 3. Load시 Carousel Element로 -> carousel 객체 초기화
        document.addEventListener('DOMContentLoaded', function () {
            carousel = new bootstrap.Carousel(mainCarouselEl2);
        });

        // 5. 버튼 element 찾기 -> 'click' 이벤트리스너 달아서, carousel객체 .pause()
        const carouselStopBtn = document.getElementById('carouselStopBtn');
        carouselStopBtn.addEventListener('click', () => {
            carousel.pause();
        })
    </script>

</body>
</html>
